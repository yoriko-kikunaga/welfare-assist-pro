<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WelfareAssist Pro - æŠ€è¡“ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</title>
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default',
            themeVariables: {
                primaryColor: '#3b82f6',
                primaryTextColor: '#1e293b',
                primaryBorderColor: '#1e40af',
                lineColor: '#64748b',
                secondaryColor: '#10b981',
                tertiaryColor: '#f59e0b',
            }
        });
    </script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans JP', sans-serif;
            line-height: 1.6;
            color: #1e293b;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        header {
            background: white;
            border-radius: 1rem;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        h1 {
            color: #1e40af;
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        .subtitle {
            color: #64748b;
            font-size: 1.1rem;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 1rem;
            border-radius: 0.5rem;
            text-align: center;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
        }

        .stat-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        section {
            background: white;
            border-radius: 1rem;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        h2 {
            color: #1e40af;
            font-size: 1.8rem;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 3px solid #3b82f6;
        }

        h3 {
            color: #475569;
            font-size: 1.3rem;
            margin: 1.5rem 0 1rem 0;
        }

        p {
            margin-bottom: 1rem;
            color: #475569;
        }

        .mermaid {
            background: #f8fafc;
            border-radius: 0.5rem;
            padding: 1rem;
            margin: 1.5rem 0;
        }

        ul {
            list-style-position: inside;
            margin-left: 1rem;
            color: #475569;
        }

        li {
            margin-bottom: 0.5rem;
        }

        code {
            background: #f1f5f9;
            padding: 0.2rem 0.4rem;
            border-radius: 0.25rem;
            font-family: 'Consolas', 'Monaco', monospace;
            color: #be123c;
        }

        .info-box {
            background: #dbeafe;
            border-left: 4px solid #3b82f6;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0.25rem;
        }

        .warning-box {
            background: #fef3c7;
            border-left: 4px solid #f59e0b;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0.25rem;
        }

        footer {
            text-align: center;
            color: white;
            padding: 2rem;
            margin-top: 2rem;
        }

        a {
            color: #2563eb;
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

        .btn {
            display: inline-block;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            margin: 0.5rem;
            text-decoration: none;
            font-weight: bold;
            transition: transform 0.2s;
        }

        .btn:hover {
            transform: translateY(-2px);
            text-decoration: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ¥ WelfareAssist Pro</h1>
            <p class="subtitle">ç¦ç¥‰ç”¨å…·ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ - æŠ€è¡“ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</p>

            <div class="stats">
                <div class="stat-card">
                    <div class="stat-number">8,406</div>
                    <div class="stat-label">ç·åˆ©ç”¨è€…æ•°</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">457</div>
                    <div class="stat-label">ç¦ç¥‰ç”¨å…·åˆ©ç”¨è€…</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">928</div>
                    <div class="stat-label">ç¦ç¥‰ç”¨å…·ãƒã‚¹ã‚¿ãƒ¼</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">1æ™‚é–“</div>
                    <div class="stat-label">è‡ªå‹•åŒæœŸé–“éš”</div>
                </div>
            </div>

            <div style="margin-top: 1.5rem;">
                <a href="https://welfare-assist-pro.web.app" class="btn" target="_blank">ğŸš€ æœ¬ç•ªã‚¢ãƒ—ãƒª</a>
                <a href="https://github.com/yoriko-kikunaga/welfare-assist-pro" class="btn" target="_blank">ğŸ“¦ GitHubãƒªãƒã‚¸ãƒˆãƒª</a>
            </div>
        </header>

        <section>
            <h2>ğŸ“Š ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å…¨ä½“å›³</h2>
            <p>WelfareAssist Proã®ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’ç¤ºã—ã¾ã™ã€‚å¤–éƒ¨ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã‹ã‚‰Firebase Hostingã¾ã§ã®å…¨ä½“çš„ãªæµã‚Œã‚’æŠŠæ¡ã§ãã¾ã™ã€‚</p>

            <div class="mermaid">
graph TB
    subgraph src1[ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹]
        A1[Google ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆ<br/>8,406ä»¶]
        A2[Kintone<br/>å¤‰æ›´ãƒ¬ã‚³ãƒ¼ãƒ‰]
        A3[ç¦ç¥‰ç”¨å…·ãƒã‚¹ã‚¿ãƒ¼<br/>928ä»¶]
    end

    subgraph actions[GitHub Actions]
        B1[hourly-sync.yml<br/>æ¯æ™‚0åˆ†å®Ÿè¡Œ]
        B2[daily-kintone-sync.yml<br/>æ¯æ—¥1å›å®Ÿè¡Œ]
    end

    subgraph proc[ãƒ‡ãƒ¼ã‚¿å‡¦ç†]
        C1[importSpreadsheetData.cjs]
        C2[importFromKintone.cjs]
        C3[fetchEquipmentMaster.cjs]
    end

    subgraph db[Firestore]
        D1[clientEdits<br/>ãƒ¦ãƒ¼ã‚¶ãƒ¼ç·¨é›†ãƒ‡ãƒ¼ã‚¿]
    end

    subgraph build[ãƒ“ãƒ«ãƒ‰]
        E1[clients.json<br/>7.7MB]
        E2[vite build]
        E3[copy-clients.cjs]
    end

    subgraph deploy[ãƒ‡ãƒ—ãƒ­ã‚¤]
        F1[Firebase Hosting]
    end

    subgraph browser[ãƒ–ãƒ©ã‚¦ã‚¶]
        G1[App.tsx]
        G2[assets/clients.json<br/>èª­ã¿è¾¼ã¿]
        G3[Firestoreã‹ã‚‰<br/>ç·¨é›†ãƒ‡ãƒ¼ã‚¿å–å¾—]
        G4[mergeAllClientEdits<br/>ãƒ‡ãƒ¼ã‚¿ãƒãƒ¼ã‚¸]
    end

    A1 --> B1
    A2 --> B2
    A3 --> B1

    B1 --> C1
    B2 --> C2

    C1 --> D1
    C1 --> E1
    C2 --> E1
    C3 --> E1

    E1 --> E2
    E2 --> E3
    E3 --> F1

    F1 --> G1
    G1 --> G2
    G1 --> G3
    G2 --> G4
    G3 --> G4

    style A1 fill:#e0f2fe
    style A2 fill:#e0f2fe
    style A3 fill:#e0f2fe
    style D1 fill:#fef3c7
    style F1 fill:#dcfce7
    style G4 fill:#fce7f3
            </div>
        </section>

        <section>
            <h2>ğŸ”„ ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼è©³ç´°</h2>
            <p>ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«: ãƒ™ãƒ¼ã‚¹ãƒ‡ãƒ¼ã‚¿ï¼ˆèª­ã¿å–ã‚Šå°‚ç”¨ï¼‰ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ç·¨é›†ãƒ‡ãƒ¼ã‚¿ï¼ˆèª­ã¿æ›¸ãå¯èƒ½ï¼‰ã‚’å®Ÿè¡Œæ™‚ã«ãƒãƒ¼ã‚¸ã—ã¾ã™ã€‚</p>

            <div class="mermaid">
sequenceDiagram
    participant GS as Google Sheets
    participant GA as GitHub Actions
    participant FS as Firestore
    participant FH as Firebase Hosting
    participant BR as ãƒ–ãƒ©ã‚¦ã‚¶

    Note over GS,FS: 1æ™‚é–“ã”ã¨ã®è‡ªå‹•åŒæœŸ
    GA->>GS: ãƒ‡ãƒ¼ã‚¿å–å¾—
    GA->>FS: ãƒ¦ãƒ¼ã‚¶ãƒ¼ç·¨é›†ãƒ‡ãƒ¼ã‚¿å–å¾—
    GA->>GA: mergeAllClientEdits()
    GA->>GA: clients.jsonç”Ÿæˆ
    GA->>GA: npm run build
    GA->>FH: firebase deploy

    Note over BR: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¯ã‚»ã‚¹
    BR->>FH: ã‚¢ãƒ—ãƒªèª­ã¿è¾¼ã¿
    FH->>BR: index.html + bundle.js
    BR->>FH: fetch('/assets/clients.json')
    FH->>BR: ãƒ™ãƒ¼ã‚¹ãƒ‡ãƒ¼ã‚¿ (8,406ä»¶)
    BR->>FS: getAllClientEdits()
    FS->>BR: ãƒ¦ãƒ¼ã‚¶ãƒ¼ç·¨é›†ãƒ‡ãƒ¼ã‚¿
    BR->>BR: mergeAllClientEdits()

    Note over BR: ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œ
    BR->>BR: ãƒ‡ãƒ¼ã‚¿ç·¨é›†
    BR->>FS: saveClientEdits()
    FS->>FS: ä¿å­˜å®Œäº†
            </div>

            <div class="info-box">
                <strong>ğŸ’¡ é‡è¦:</strong> ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç·¨é›†å†…å®¹ï¼ˆmeetings, changeRecords, equipmentç­‰ï¼‰ã¯Firestoreã«ã®ã¿ä¿å­˜ã•ã‚Œã€clients.jsonã«ã¯å«ã¾ã‚Œã¾ã›ã‚“ã€‚å®Ÿè¡Œæ™‚ã«ãƒãƒ¼ã‚¸ã•ã‚Œã¾ã™ã€‚
            </div>
        </section>

        <section>
            <h2>ğŸ” èªè¨¼ãƒ•ãƒ­ãƒ¼</h2>
            <p>Firebase Authenticationã¨Google Sign-Inã‚’ä½¿ç”¨ã—ãŸèªè¨¼ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚</p>

            <div class="mermaid">
flowchart TD
    A[ã‚¢ãƒ—ãƒªèµ·å‹•] --> B{èªè¨¼çŠ¶æ…‹ç¢ºèª}
    B -->|æœªèªè¨¼| C[ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢è¡¨ç¤º]
    B -->|èªè¨¼æ¸ˆã¿| D[ãƒ¡ã‚¤ãƒ³ç”»é¢è¡¨ç¤º]

    C --> E[Googleã§ãƒ­ã‚°ã‚¤ãƒ³ãƒœã‚¿ãƒ³]
    E --> F[Googleèªè¨¼ç”»é¢]
    F --> G{èªè¨¼æˆåŠŸ?}
    G -->|Yes| H[Firebase Authentication<br/>ãƒˆãƒ¼ã‚¯ãƒ³å–å¾—]
    G -->|No| C
    H --> I[AuthContext<br/>currentUserè¨­å®š]
    I --> D

    D --> J[ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿]
    J --> K[Firestoreã‚¢ã‚¯ã‚»ã‚¹]
    K --> L{èªè¨¼ãƒã‚§ãƒƒã‚¯}
    L -->|èªè¨¼æ¸ˆã¿| M[ãƒ‡ãƒ¼ã‚¿å–å¾—æˆåŠŸ]
    L -->|æœªèªè¨¼| N[ã‚¨ãƒ©ãƒ¼: æ¨©é™ä¸è¶³]

    style C fill:#fecaca
    style D fill:#d1fae5
    style H fill:#fef3c7
    style M fill:#d1fae5
    style N fill:#fecaca
            </div>

            <div class="info-box">
                <strong>ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ«ãƒ¼ãƒ«:</strong> Firestoreã¯èªè¨¼æ¸ˆã¿ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã¿ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ã€‚<code>firestore.rules</code>ã§ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ã‚’å®Ÿè£…ã€‚
            </div>
        </section>

        <section>
            <h2>ğŸ’¾ Firestoreãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–</h2>
            <p>ãƒ¦ãƒ¼ã‚¶ãƒ¼ç·¨é›†ãƒ‡ãƒ¼ã‚¿ã‚’Firestoreã«ä¿å­˜ã—ã€ãƒ™ãƒ¼ã‚¹ãƒ‡ãƒ¼ã‚¿ã¨ãƒãƒ¼ã‚¸ã™ã‚‹ä»•çµ„ã¿ã§ã™ã€‚</p>

            <div class="mermaid">
flowchart LR
    subgraph base[ãƒ™ãƒ¼ã‚¹ãƒ‡ãƒ¼ã‚¿]
        A1[assets/clients.json<br/>8,406ä»¶]
        A2[Google Sheetsç”±æ¥<br/>Kintoneç”±æ¥]
    end

    subgraph fs[Firestore]
        B1[clientEdits/aozoraId]
        B2[meetings]
        B3[changeRecords]
        B4[equipment]
        B5[isWelfareEquipmentUser]
    end

    subgraph merge[ãƒãƒ¼ã‚¸å‡¦ç†]
        C1[mergeClientEdits]
        C2[ãƒãƒ¼ã‚¸ã•ã‚ŒãŸClient]
    end

    subgraph display[è¡¨ç¤º]
        D1[ClientDetail]
        D2[ç·¨é›†å¯èƒ½]
    end

    A1 --> C1
    B1 --> C1
    B2 --> B1
    B3 --> B1
    B4 --> B1
    B5 --> B1

    C1 --> C2
    C2 --> D1
    D1 --> D2
    D2 -->|ä¿å­˜| B1

    style A1 fill:#e0f2fe
    style B1 fill:#fef3c7
    style C2 fill:#fce7f3
    style D2 fill:#dcfce7
            </div>

            <div class="warning-box">
                <strong>âš ï¸ æ³¨æ„:</strong> ãƒšãƒ¼ã‚¸ãƒªãƒ­ãƒ¼ãƒ‰æ™‚ã«Firestoreã‹ã‚‰ç·¨é›†ãƒ‡ãƒ¼ã‚¿ã‚’å†å–å¾—ã—ã¦ãƒãƒ¼ã‚¸ã—ã¾ã™ã€‚ãƒ™ãƒ¼ã‚¹ãƒ‡ãƒ¼ã‚¿ã¯1æ™‚é–“ã”ã¨ã«æ›´æ–°ã•ã‚Œã¾ã™ãŒã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ç·¨é›†ã¯å³åº§ã«Firestoreã«ä¿å­˜ã•ã‚Œã¾ã™ã€‚
            </div>
        </section>

        <section>
            <h2>ğŸ§© ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹é€ </h2>
            <p>Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®éšå±¤æ§‹é€ ã¨ãƒ‡ãƒ¼ã‚¿ã®æµã‚Œã‚’ç¤ºã—ã¾ã™ã€‚</p>

            <div class="mermaid">
graph TD
    A[App.tsx] --> B[AuthProvider]
    B --> C[AppContent]

    C --> D[ClientList]
    C --> E[ClientDetail]
    C --> F[WelfareUsersSummary]

    D --> D1[æ¤œç´¢/ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼]
    D --> D2[åˆ©ç”¨è€…ãƒªã‚¹ãƒˆ]
    D --> D3[ç¦ç¥‰ç”¨å…·ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹]

    E --> E1[Tab 1: åŸºæœ¬æƒ…å ±]
    E --> E2[Tab 2: ç—…æ­´ãƒ»AIææ¡ˆ]
    E --> E3[Tab 3: è­°äº‹éŒ²ä¸€è¦§]
    E --> E4[Tab 4: å¤‰æ›´æƒ…å ±å…¥åŠ›]
    E --> E5[Tab 5: ç¦ç¥‰ç”¨å…·é¸å®š]
    E --> E6[Tab 6: å£²ä¸Šç®¡ç†]

    E5 --> E5a[ã‚«ã‚¹ã‚±ãƒ¼ãƒ‰ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°]
    E5 --> E5b[datalistæ¤œç´¢]

    E1 --> G[handleChange]
    E2 --> H[suggestEquipment AI]
    E3 --> I[generateMeetingSummary AI]
    E5 --> J[updateEquipment]

    G --> K[saveClientEdits]
    J --> K
    K --> L[Firestore]

    style A fill:#e0f2fe
    style E fill:#fef3c7
    style K fill:#fce7f3
    style L fill:#dcfce7
            </div>
        </section>

        <section>
            <h2>ğŸ”§ ç¦ç¥‰ç”¨å…·é¸å®šã®ã‚«ã‚¹ã‚±ãƒ¼ãƒ‰ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°</h2>
            <p>ç¦ç¥‰ç”¨å…·ã®ç¨®é¡ â†’ ãƒ¡ãƒ¼ã‚«ãƒ¼ â†’ å•†å“åã®é †ã«ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã•ã‚Œã‚‹ä»•çµ„ã¿ã§ã™ã€‚</p>

            <div class="mermaid">
stateDiagram-v2
    [*] --> ç¨®é¡é¸æŠ
    ç¨®é¡é¸æŠ --> ãƒ¡ãƒ¼ã‚«ãƒ¼é¸æŠ: ç¨®é¡ã«æº–ã˜ãŸãƒ¡ãƒ¼ã‚«ãƒ¼ã‚’è¡¨ç¤º
    ãƒ¡ãƒ¼ã‚«ãƒ¼é¸æŠ --> å•†å“åé¸æŠ: ç¨®é¡+ãƒ¡ãƒ¼ã‚«ãƒ¼ã®å•†å“ã‚’è¡¨ç¤º
    å•†å“åé¸æŠ --> è‡ªå‹•å…¥åŠ›: å•†å“ã‚³ãƒ¼ãƒ‰ã€å˜ä½æ•°ã‚’è‡ªå‹•è¨­å®š
    è‡ªå‹•å…¥åŠ› --> [*]

    note right of ç¨®é¡é¸æŠ
        13ç¨®é¡ã®ç¦ç¥‰ç”¨å…·
        è»Šã„ã™ã€ç‰¹æ®Šå¯å°ãªã©
    end note

    note right of ãƒ¡ãƒ¼ã‚«ãƒ¼é¸æŠ
        75ãƒ¡ãƒ¼ã‚«ãƒ¼
        ç¨®é¡ã§ãƒ•ã‚£ãƒ«ã‚¿æ¸ˆã¿
    end note

    note right of å•†å“åé¸æŠ
        928å•†å“
        ç¨®é¡+ãƒ¡ãƒ¼ã‚«ãƒ¼ã§ãƒ•ã‚£ãƒ«ã‚¿æ¸ˆã¿
    end note

    note right of è‡ªå‹•å…¥åŠ›
        taisCode: å•†å“ã‚³ãƒ¼ãƒ‰
        units: æœˆé–“å˜ä½æ•°
        è‡ªå‹•è£œå®Œ
    end note
            </div>

            <div class="info-box">
                <strong>æ¤œç´¢æ©Ÿèƒ½:</strong> å…¨ã¦ã®ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã§<code>&lt;datalist&gt;</code>ã‚’ä½¿ç”¨ã—ãŸæ¤œç´¢ãŒå¯èƒ½ã§ã™ã€‚å…¥åŠ›ã™ã‚‹ã¨å€™è£œãŒçµã‚Šè¾¼ã¾ã‚Œã¾ã™ã€‚
            </div>
        </section>

        <section>
            <h2>ğŸ¤– AIçµ±åˆï¼ˆGeminiï¼‰</h2>
            <p>Google Gemini AIã‚’ä½¿ç”¨ã—ãŸ2ã¤ã®ä¸»è¦æ©Ÿèƒ½ã§ã™ã€‚</p>

            <div class="mermaid">
flowchart TB
    subgraph minutes[è­°äº‹éŒ²è‡ªå‹•ç”Ÿæˆ]
        A1[ç²—ã„ãƒ¡ãƒ¢å…¥åŠ›] --> A2[generateMeetingSummary]
        A2 --> A3[Gemini 2.0 Flash]
        A3 --> A4[ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆæ¸ˆã¿è­°äº‹éŒ²]
        A4 --> A5[æ—¥æ™‚ãƒ»å ´æ‰€<br/>å‡ºå¸­è€…<br/>æ¤œè¨å†…å®¹<br/>æ±ºå®šäº‹é …<br/>æ¬¡å›ã‚¢ã‚¯ã‚·ãƒ§ãƒ³]
    end

    subgraph suggest[ç¦ç¥‰ç”¨å…·AIææ¡ˆ]
        B1[ç—…æ­´å…¥åŠ›] --> B2[suggestEquipment]
        B2 --> B3[Gemini 2.0 Flash]
        B3 --> B4[æ¨å¥¨ç¦ç¥‰ç”¨å…·ãƒªã‚¹ãƒˆ]
        B4 --> B5[ç†ç”±èª¬æ˜ä»˜ã<br/>13ã‚«ãƒ†ã‚´ãƒªã‹ã‚‰é¸å®š]
    end

    A3 -.èªè¨¼.-> C[Vertex AI API<br/>Workload Identity]
    B3 -.èªè¨¼.-> C

    style A3 fill:#fef3c7
    style B3 fill:#fef3c7
    style C fill:#fce7f3
            </div>
        </section>

        <section>
            <h2>ğŸ“‹ ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«</h2>

            <h3>Clientå‹ã®ä¸»è¦ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰</h3>
            <ul>
                <li><code>aozoraId</code>: ã‚ãŠãã‚‰IDï¼ˆæ¥­å‹™ä¸Šã®ãƒ—ãƒ©ã‚¤ãƒãƒªã‚­ãƒ¼ï¼‰</li>
                <li><code>isWelfareEquipmentUser</code>: ç¦ç¥‰ç”¨å…·åˆ©ç”¨ãƒ•ãƒ©ã‚°ï¼ˆæ‰‹å‹•è¨­å®šå¯èƒ½ï¼‰</li>
                <li><code>meetings</code>: Meeting[] - è­°äº‹éŒ²é…åˆ—</li>
                <li><code>changeRecords</code>: ClientChangeRecord[] - å¤‰æ›´æƒ…å ±é…åˆ—</li>
                <li><code>selectedEquipment</code>: Equipment[] - é¸å®šæ¸ˆã¿ç¦ç¥‰ç”¨å…·é…åˆ—</li>
                <li><code>salesRecords</code>: SalesRecord[] - å£²ä¸Šãƒ¬ã‚³ãƒ¼ãƒ‰é…åˆ—</li>
            </ul>

            <h3>Equipmentå‹ã®ã‚«ã‚¹ã‚±ãƒ¼ãƒ‰ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰</h3>
            <ul>
                <li><code>category</code>: ç¦ç¥‰ç”¨å…·ã®ç¨®é¡ï¼ˆ13ç¨®é¡ï¼‰</li>
                <li><code>manufacturer</code>: ãƒ¡ãƒ¼ã‚«ãƒ¼ï¼ˆ75ç¤¾ï¼‰</li>
                <li><code>name</code>: å•†å“åï¼ˆ928å•†å“ï¼‰</li>
                <li><code>taisCode</code>: å•†å“ã‚³ãƒ¼ãƒ‰ï¼ˆè‡ªå‹•å…¥åŠ›ï¼‰</li>
                <li><code>units</code>: æœˆé–“å˜ä½æ•°ï¼ˆè‡ªå‹•å…¥åŠ›ï¼‰</li>
                <li><code>wholesaler</code>: å¸ä¼šç¤¾ï¼ˆ6ç¤¾: ãƒ‹ãƒƒã‚±ãƒ³ã€æ—¥æœ¬ã‚±ã‚¢ã‚µãƒ—ãƒ©ã‚¤ã€ãƒ‹ã‚·ã‚±ãƒ³ã€ãƒ‘ãƒ©ã‚±ã‚¢ã€é‡å£ã€ã‚­ã‚·ãƒ¤ï¼‰</li>
            </ul>

            <h3>Firestoreä¿å­˜ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ (ClientEdits)</h3>
            <ul>
                <li><code>meetings</code>: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¿½åŠ /ç·¨é›†ã—ãŸè­°äº‹éŒ²</li>
                <li><code>changeRecords</code>: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¿½åŠ /ç·¨é›†ã—ãŸå¤‰æ›´æƒ…å ±</li>
                <li><code>plannedEquipment</code>: é¸å®šäºˆå®šã®ç¦ç¥‰ç”¨å…·</li>
                <li><code>selectedEquipment</code>: é¸å®šæ¸ˆã¿ã®ç¦ç¥‰ç”¨å…·</li>
                <li><code>keyPerson</code>: ã‚­ãƒ¼ãƒ‘ãƒ¼ã‚½ãƒ³æƒ…å ±</li>
                <li><code>address</code>: ä½æ‰€</li>
                <li><code>medicalHistory</code>: ç—…æ­´</li>
                <li><code>isWelfareEquipmentUser</code>: ç¦ç¥‰ç”¨å…·åˆ©ç”¨ãƒ•ãƒ©ã‚°</li>
            </ul>
        </section>

        <section>
            <h2>ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆãƒ•ãƒ­ãƒ¼</h2>
            <p>GitHub Actionsã«ã‚ˆã‚‹CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã§ã™ã€‚</p>

            <div class="mermaid">
flowchart LR
    A[GitHub Actions<br/>Trigger] --> B{Workflow}

    B --> C1[hourly-sync.yml<br/>æ¯æ™‚0åˆ†]
    B --> C2[daily-kintone-sync.yml<br/>æ¯æ—¥]

    C1 --> D1[importSpreadsheetData.cjs]
    C2 --> D2[importFromKintone.cjs]

    D1 --> E[clients.jsonæ›´æ–°]
    D2 --> E

    E --> F[npm run build]
    F --> G[firebase deploy --only hosting]
    G --> H[https://welfare-assist-pro.web.app]

    E --> I[git commit & push<br/>clients.json]

    style C1 fill:#e0f2fe
    style C2 fill:#e0f2fe
    style H fill:#dcfce7
    style I fill:#fef3c7
            </div>
        </section>

        <section>
            <h2>ğŸ“š æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯</h2>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem;">
                <div class="info-box">
                    <strong>ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰</strong>
                    <ul>
                        <li>React 19.2.1</li>
                        <li>TypeScript 5.8.2</li>
                        <li>Vite 6.2.0</li>
                        <li>Tailwind CSS</li>
                    </ul>
                </div>
                <div class="info-box">
                    <strong>ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰/ã‚¤ãƒ³ãƒ•ãƒ©</strong>
                    <ul>
                        <li>Firebase Hosting</li>
                        <li>Firebase Authentication</li>
                        <li>Firestore Database</li>
                        <li>GitHub Actions</li>
                    </ul>
                </div>
                <div class="info-box">
                    <strong>AI/ãƒ‡ãƒ¼ã‚¿é€£æº</strong>
                    <ul>
                        <li>Google Gemini 2.0 Flash</li>
                        <li>Vertex AI API</li>
                        <li>Google Sheets API</li>
                        <li>Kintone REST API</li>
                    </ul>
                </div>
            </div>
        </section>

        <section>
            <h2>ğŸ”— é–¢é€£ãƒªãƒ³ã‚¯</h2>
            <ul>
                <li><a href="https://welfare-assist-pro.web.app" target="_blank">æœ¬ç•ªã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³</a></li>
                <li><a href="https://github.com/yoriko-kikunaga/welfare-assist-pro" target="_blank">GitHubãƒªãƒã‚¸ãƒˆãƒª</a></li>
                <li><a href="https://console.firebase.google.com/project/welfare-assist-pro" target="_blank">Firebase Console</a></li>
                <li><a href="https://console.cloud.google.com/welcome?project=welfare-assist-pro" target="_blank">Google Cloud Console</a></li>
            </ul>
        </section>
    </div>

    <footer>
        <p>&copy; 2025 WelfareAssist Pro. Built with â¤ï¸ for ç¦ç¥‰ç”¨å…·å°‚é–€ç›¸è«‡å“¡</p>
        <p>Last Updated: 2025-12-26</p>
    </footer>
</body>
</html>
